<template>
    <div class="row">
        <div class="col-sm-12">
            <h1>All Projects</h1>
            <table class="table table-striped table-hover table-bordered">
                <caption>
                    <button click.trigger="loadProjects()" type="button" class="btn btn-primary">Refresh</button>
                </caption>
                <thead>
                <tr>
                    <th>Project ID</th>
                    <th>Company</th>
                    <th>Name</th>
                    <th>Date Created</th>
                    <th>End Date</th>
                    <th>Tasks</th>
                </tr>
                </thead>
                <tbody>
                <tr repeat.for="prj of projects">
                    <td>${prj.projectID}</td>
                    <td>
                        <a href.one-time="getCompanyUrl(prj.company.companyID)" target="_blank">${prj.company.name}</a>
                    </td>
                    <td>${prj.name}</td>
                    <td>${prj.dateCreated.format("MMM dd, YYYY")}</td>
                    <td>${prj.endDate.format("MMM dd, YYYY")}</td>
                    <td>
                        <a route-href="route: tasks-by-project; params.bind: {ProjectID: prj.projectID}">View Tasks</a><br/>
                        <a route-href="route: files-by-project; params.bind: {ProjectID: prj.projectID}">View Files</a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</template>